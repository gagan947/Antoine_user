<div *ngIf="!loading" class="dialog-backdrop" (click)="closeDialog()">
      <div class="dialog-content ct_modal_verticle_h" (click)="$event.stopPropagation()">
            <main #fullScreenContainer class="ct_py_100 pt-5 h-auto position-relative">
                  <div class="container">
                        <div class="row">
                              <div *ngIf="copySuccess" class="copy-message">copied to clipboard !</div>
                              <div class="col-md-12">
                                    <div>
                                          <a (click)="closeDialog()" class="ct_studio_close_btn">
                                                <i class="bi bi-x"></i>
                                          </a>
                                          <div class="ct_owl_carousel_option">
                                                <ul>
                                                      <li title="Copy Image Path" (click)="copyData()">
                                                            <svg width="19" height="20" viewBox="0 0 19 23" fill="none"
                                                                  xmlns="http://www.w3.org/2000/svg">
                                                                  <path d="M14 0.5H2C1.47005 0.501583 0.962265 0.712805 0.587535 1.08753C0.212805 1.46227 0.00158273 1.97005 0 2.5V16.5H2V2.5H14V0.5ZM17 4.5H6C5.47005 4.50158 4.96227 4.7128 4.58753 5.08753C4.2128 5.46227 4.00158 5.97005 4 6.5V20.5C4.00158 21.0299 4.2128 21.5377 4.58753 21.9125C4.96227 22.2872 5.47005 22.4984 6 22.5H17C17.5299 22.4984 18.0377 22.2872 18.4125 21.9125C18.7872 21.5377 18.9984 21.0299 19 20.5V6.5C18.9984 5.97005 18.7872 5.46227 18.4125 5.08753C18.0377 4.7128 17.5299 4.50158 17 4.5ZM17 20.5H6V6.5H17V20.5Z"
                                                                        fill="#EBEBEB" />
                                                            </svg>
                                                      </li>
                                                      <li class="Zoom Out" (click)="zoomOut()">
                                                            <svg width="18" height="19" viewBox="0 0 18 19" fill="none"
                                                                  xmlns="http://www.w3.org/2000/svg">
                                                                  <path d="M13.0151 11.7651H12.2251L11.9451 11.4951C13.0416 10.2174 13.6006 8.56467 13.5045 6.88373C13.4085 5.20279 12.6649 3.62444 11.4299 2.48006C10.195 1.33567 8.56464 0.714264 6.88126 0.746297C5.19789 0.77833 3.59239 1.46131 2.40185 2.65185C1.21131 3.84239 0.52833 5.44789 0.496297 7.13126C0.464264 8.81464 1.08567 10.445 2.23006 11.6799C3.37444 12.9149 4.95279 13.6585 6.63373 13.7545C8.31467 13.8506 9.96744 13.2916 11.2451 12.1951L11.5151 12.4751V13.2651L16.5151 18.2551L18.0051 16.7651L13.0151 11.7651ZM7.01506 11.7651C6.12504 11.7651 5.25501 11.5011 4.51499 11.0067C3.77497 10.5122 3.1982 9.8094 2.8576 8.98713C2.51701 8.16487 2.42789 7.26007 2.60153 6.38715C2.77516 5.51424 3.20374 4.71241 3.83308 4.08308C4.46241 3.45374 5.26424 3.02516 6.13715 2.85153C7.01007 2.67789 7.91487 2.76701 8.73713 3.1076C9.5594 3.4482 10.2622 4.02497 10.7567 4.76499C11.2511 5.50501 11.5151 6.37504 11.5151 7.26506C11.5158 7.85623 11.4 8.44175 11.1741 8.98807C10.9483 9.53439 10.6168 10.0308 10.1988 10.4488C9.78078 10.8668 9.28439 11.1983 8.73807 11.4241C8.19175 11.65 7.60623 11.7658 7.01506 11.7651ZM4.51506 6.76506H9.51506V7.76506H4.51506V6.76506Z"
                                                                        fill="#EBEBEB" />
                                                            </svg>
                                                      </li>
                                                      <li title="Zoom In" (click)="zoomIn()">
                                                            <svg width="18" height="19" viewBox="0 0 18 19" fill="none"
                                                                  xmlns="http://www.w3.org/2000/svg">
                                                                  <path d="M13.0199 11.7651H12.2299L11.9499 11.4951C13.0465 10.2174 13.6055 8.56467 13.5094 6.88373C13.4133 5.20279 12.6698 3.62444 11.4348 2.48006C10.1998 1.33567 8.56952 0.714264 6.88615 0.746297C5.20277 0.77833 3.59728 1.46131 2.40674 2.65185C1.2162 3.84239 0.533212 5.44789 0.50118 7.13126C0.469147 8.81464 1.09056 10.445 2.23494 11.6799C3.37933 12.9149 4.95768 13.6585 6.63861 13.7545C8.31955 13.8506 9.97233 13.2916 11.2499 12.1951L11.5199 12.4751V13.2651L16.5199 18.2551L18.0099 16.7651L13.0199 11.7651ZM7.01994 11.7651C6.12993 11.7651 5.2599 11.5011 4.51988 11.0067C3.77985 10.5122 3.20308 9.8094 2.86248 8.98713C2.52189 8.16487 2.43277 7.26007 2.60641 6.38715C2.78004 5.51424 3.20862 4.71241 3.83796 4.08308C4.4673 3.45374 5.26912 3.02516 6.14203 2.85153C7.01495 2.67789 7.91975 2.76701 8.74202 3.1076C9.56428 3.4482 10.2671 4.02497 10.7616 4.76499C11.256 5.50501 11.5199 6.37504 11.5199 7.26506C11.5207 7.85623 11.4049 8.44175 11.179 8.98807C10.9531 9.53439 10.6217 10.0308 10.2037 10.4488C9.78566 10.8668 9.28927 11.1983 8.74295 11.4241C8.19663 11.65 7.61111 11.7658 7.01994 11.7651ZM9.51994 7.76506H7.51994V9.76506H6.51994V7.76506H4.51994V6.76506H6.51994V4.76506H7.51994V6.76506H9.51994V7.76506Z"
                                                                        fill="#EBEBEB" />
                                                            </svg>
                                                      </li>
                                                      <li>
                                                            <svg title="Fullscreen" (click)="enterFullscreen()"
                                                                  *ngIf="!isFullScreen" width="15" height="15"
                                                                  viewBox="0 0 15 15" fill="none"
                                                                  xmlns="http://www.w3.org/2000/svg">
                                                                  <path d="M2.50488 9.5H0.504883V14.5H5.50488V12.5H2.50488V9.5ZM0.504883 5.5H2.50488V2.5H5.50488V0.5H0.504883V5.5ZM12.5049 12.5H9.50488V14.5H14.5049V9.5H12.5049V12.5ZM9.50488 0.5V2.5H12.5049V5.5H14.5049V0.5H9.50488Z"
                                                                        fill="#EBEBEB" />
                                                            </svg>
                                                            <svg title="Minimise" (click)="exitFullscreen()"
                                                                  *ngIf="isFullScreen"
                                                                  xmlns="http://www.w3.org/2000/svg" width="20"
                                                                  height="20" viewBox="0 0 24 24">
                                                                  <rect width="24" height="24" fill="none" />
                                                                  <path fill="#EBEBEB"
                                                                        d="M6 21v-3H3v-2h5v5zm10 0v-5h5v2h-3v3zM3 8V6h3V3h2v5zm13 0V3h2v3h3v2z" />
                                                            </svg>
                                                      </li>
                                                      <li title="Slideshow" (click)="autoPlay()">
                                                            <svg *ngIf="!isPlaying" width="20" height="21"
                                                                  viewBox="0 0 20 21" fill="none"
                                                                  xmlns="http://www.w3.org/2000/svg">
                                                                  <path d="M8 15L14 10.5L8 6V15ZM10 0.5C8.02219 0.5 6.08879 1.08649 4.4443 2.1853C2.79981 3.28412 1.51809 4.8459 0.761209 6.67317C0.00433284 8.50043 -0.193701 10.5111 0.192152 12.4509C0.578004 14.3907 1.53041 16.1725 2.92894 17.5711C4.32746 18.9696 6.10929 19.922 8.0491 20.3079C9.98891 20.6937 11.9996 20.4957 13.8268 19.7388C15.6541 18.9819 17.2159 17.7002 18.3147 16.0557C19.4135 14.4112 20 12.4778 20 10.5C20 9.18678 19.7413 7.88642 19.2388 6.67317C18.7363 5.45991 17.9997 4.35752 17.0711 3.42893C16.1425 2.50035 15.0401 1.76375 13.8268 1.2612C12.6136 0.758658 11.3132 0.5 10 0.5ZM10 18.5C8.41775 18.5 6.87104 18.0308 5.55544 17.1518C4.23985 16.2727 3.21447 15.0233 2.60897 13.5615C2.00347 12.0997 1.84504 10.4911 2.15372 8.93928C2.4624 7.38743 3.22433 5.96197 4.34315 4.84315C5.46197 3.72433 6.88743 2.9624 8.43928 2.65372C9.99113 2.34504 11.5997 2.50346 13.0615 3.10896C14.5233 3.71447 15.7727 4.73984 16.6518 6.05544C17.5308 7.37103 18 8.91775 18 10.5C17.9971 12.6208 17.1533 14.654 15.6536 16.1536C14.154 17.6533 12.1208 18.4971 10 18.5Z"
                                                                        fill="#EBEBEB" />
                                                            </svg>
                                                            <svg *ngIf="isPlaying" xmlns="http://www.w3.org/2000/svg"
                                                                  width="20" height="21" viewBox="0 0 20 20">
                                                                  <rect width="20" height="20" fill="none" />
                                                                  <path fill="#EBEBEB"
                                                                        d="M2.93 17.07A10 10 0 1 1 17.07 2.93A10 10 0 0 1 2.93 17.07m12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32M7 6h2v8H7zm4 0h2v8h-2z" />
                                                            </svg>
                                                      </li>
                                                      <li title="Download"
                                                            *ngIf="userData.role== '2' || permissionObject.DNI"
                                                            (click)="downloadImage(data?.image, data?.image_name, data?.id)">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                                  height="24" viewBox="0 0 24 24">
                                                                  <rect width="24" height="24" fill="none" />
                                                                  <path fill="#EBEBEB"
                                                                        d="m12 16l-5-5l1.4-1.45l2.6 2.6V4h2v8.15l2.6-2.6L17 11zm-6 4q-.825 0-1.412-.587T4 18v-3h2v3h12v-3h2v3q0 .825-.587 1.413T18 20z" />
                                                            </svg>
                                                      </li>
                                                </ul>
                                          </div>
                                          <div class="item">
                                                <div class="srtudio_bg_345">
                                                      <div class="ct_studio_img_456" (mousedown)="startDragging($event)"
                                                            (mousemove)="dragImage($event)" (mouseup)="stopDragging()"
                                                            (mouseleave)="stopDragging()"
                                                            (touchstart)="startDragging($event)"
                                                            (touchmove)="dragImage($event)" (touchend)="stopDragging()">
                                                            <div class="ct_overflow_hidden ">
                                                                  <img [src]="data?.image" alt="" class="image"
                                                                        [ngStyle]="{'transform': 'scale(' + zoomLevel + ') translate(' + translateX + 'px, ' + translateY + 'px)', 
                                                      'transform-origin': 'center'}">
                                                            </div>
                                                            <p class="mb-0 text-white text-center mt-3"><a
                                                                        class="text-white"
                                                                        routerLink="/archives">Home</a>
                                                                  /
                                                                  <a class="text-white" routerLink="/sub-categories"
                                                                        [queryParams]="{id : category?.category_id}">{{category?.category_name
                                                                        | uppercase}}</a>
                                                                  /
                                                                  <a class="text-white" routerLink="/sub-subcategories"
                                                                        [queryParams]="{cat_id : category?.category_id, subcat_id : subCategory?.subcategory_id}">{{subCategory?.subcategory_name
                                                                        | uppercase}}</a>
                                                                  / {{data?.image_name}}
                                                            </p>
                                                      </div>
                                                      <div class="ct_studio_card_456">
                                                            <ul>
                                                                  <li>
                                                                        <h4>Author</h4>
                                                                        <p class="mb-0">{{data?.author_name}}</p>
                                                                  </li>
                                                                  <li>
                                                                        <h4>Created on</h4>
                                                                        <p class="mb-0">{{data?.created_on}}
                                                                        </p>
                                                                  </li>
                                                                  <li>
                                                                        <h4>Dimensions</h4>
                                                                        <p class="mb-0">{{data?.dimensions}} </p>
                                                                  </li>
                                                                  <li>
                                                                        <h4>File</h4>
                                                                        <p class="mb-0">{{data?.file}} </p>
                                                                  </li>
                                                                  <li>
                                                                        <h4 class="ct_cyan_text">Tags</h4>
                                                                        <p class="mb-0 text-white">
                                                                              <span
                                                                                    *ngFor="let tag of data.tags; let i = index">
                                                                                    {{ tag.tagName }}
                                                                                    <ng-container
                                                                                          *ngIf="tag.subTags && tag.subTags.length > 0">
                                                                                          (
                                                                                          <span
                                                                                                *ngFor="let subTag of tag.subTags; let j = index">
                                                                                                {{ subTag.subTagName
                                                                                                }}{{ j <
                                                                                                      tag.subTags.length
                                                                                                      - 1 ? ', ' : '' }}
                                                                                                      </span>
                                                                                                      )
                                                                                    </ng-container>
                                                                                    {{ i < data.tags.length - 1 ? ','
                                                                                          : '' }} </span>
                                                                        </p>
                                                                  </li>
                                                                  <li>
                                                                        <h4>Albums</h4>
                                                                        <ul>
                                                                              <li class="mt-1"
                                                                                    *ngFor="let item of getUniqueSubAlbums(data?.sub_album)">
                                                                                    <a class="text-white"
                                                                                          routerLink="/sub-categories"
                                                                                          [queryParams]="{id : item?.category_id}">{{item.category_name
                                                                                          | uppercase}}</a>
                                                                                    <ng-container
                                                                                          *ngIf="item.subcategory_name">
                                                                                          /
                                                                                    </ng-container>
                                                                                    <a class="text-white"
                                                                                          routerLink="/sub-subcategories"
                                                                                          [queryParams]="{cat_id : item?.category_id, subcat_id : item?.subcategory_id}">{{item.subcategory_name
                                                                                          | uppercase}}</a>
                                                                                    <ng-container
                                                                                          *ngIf="item.sub_sub_categoryName">
                                                                                          /
                                                                                    </ng-container>
                                                                                    <a class="text-white"
                                                                                          routerLink="/sub-album"
                                                                                          [queryParams]="{cat_id : item?.category_id, subcat_id : item?.subcategory_id, subsubcat_id : item?.subsubcategoryid}">{{item.sub_sub_categoryName
                                                                                          | uppercase}}</a>
                                                                              </li>
                                                                        </ul>
                                                                  </li>
                                                            </ul>
                                                      </div>
                                                </div>
                                          </div>
                                          <div class="btn_div">
                                                <button class="nav-btn" (click)="prevImage(data?.previous_id)"
                                                      [disabled]="data?.previous_id == ''"><svg
                                                            xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
                                                            viewBox="0 0 48 48">
                                                            <rect width="48" height="48" fill="none" />
                                                            <path fill="currentColor"
                                                                  d="m30.9 43l3.1-3.1L18.1 24L34 8.1L30.9 5L12 24z" />
                                                      </svg>
                                                </button>
                                                <button class="nav-btn" [disabled]="data?.next_id == ''"
                                                      (click)="nextImage(data?.next_id)"><svg
                                                            xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
                                                            viewBox="0 0 48 48">
                                                            <rect width="48" height="48" fill="none" />
                                                            <path fill="currentColor"
                                                                  d="M17.1 5L14 8.1L29.9 24L14 39.9l3.1 3.1L36 24z" />
                                                      </svg>
                                                </button>
                                          </div>
                                    </div>
                              </div>
                        </div>
                  </div>
            </main>
      </div>
</div>
<div *ngIf="loading" class="ct_loader_main">
      <div class="loader"></div>
</div>